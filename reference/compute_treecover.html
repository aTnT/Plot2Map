<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compute tree cover forest mask for a specific year — compute_treecover • Plot2Map</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute tree cover forest mask for a specific year — compute_treecover"><meta name="description" content="This function computes a tree cover forest mask layer for a given year based on a 2000 tree cover baseline - the Hansen Global Forest Change (GFC) dataset
or a 2010 tree cover baseline - the GLAD 2010 Tree Canopy Cover dataset."><meta property="og:description" content="This function computes a tree cover forest mask layer for a given year based on a 2000 tree cover baseline - the Hansen Global Forest Change (GFC) dataset
or a 2010 tree cover baseline - the GLAD 2010 Tree Canopy Cover dataset."><meta property="og:image" content="https://atnt.github.io/Plot2Map/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Plot2Map</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/plot-data-preparation.html">Plot data preparation</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Compute tree cover forest mask for a specific year</h1>

      <div class="d-none name"><code>compute_treecover.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function computes a tree cover forest mask layer for a given year based on a 2000 tree cover baseline - the Hansen Global Forest Change (GFC) dataset
or a 2010 tree cover baseline - the GLAD 2010 Tree Canopy Cover dataset.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">compute_treecover</span><span class="op">(</span></span>
<span>  <span class="va">year</span>,</span>
<span>  gfc_folder <span class="op">=</span> <span class="st">"data/GFC"</span>,</span>
<span>  treecover_threshold <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  coords <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  output_folder <span class="op">=</span> <span class="st">"data/treecover_calc"</span>,</span>
<span>  num_cores <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  baseline <span class="op">=</span> <span class="fl">2010</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-year">year<a class="anchor" aria-label="anchor" href="#arg-year"></a></dt>
<dd><p>Integer. The year for which to compute the tree cover (2001-2023).</p></dd>


<dt id="arg-gfc-folder">gfc_folder<a class="anchor" aria-label="anchor" href="#arg-gfc-folder"></a></dt>
<dd><p>Character. Path to the folder containing GFC dataset files. Default is "data/GFC".</p></dd>


<dt id="arg-treecover-threshold">treecover_threshold<a class="anchor" aria-label="anchor" href="#arg-treecover-threshold"></a></dt>
<dd><p>Numeric. Optional threshold for tree cover (0-100) at baseline year. If provided, only areas with
tree cover values &gt;= this threshold will be considered. Default is NULL (no threshold).</p></dd>


<dt id="arg-coords">coords<a class="anchor" aria-label="anchor" href="#arg-coords"></a></dt>
<dd><p>Character. Coordinates of the tile to process, e.g., "10N_020E". If NULL, processes all available tiles.</p></dd>


<dt id="arg-output-folder">output_folder<a class="anchor" aria-label="anchor" href="#arg-output-folder"></a></dt>
<dd><p>Character. Path to the folder where output rasters should be saved.</p></dd>


<dt id="arg-num-cores">num_cores<a class="anchor" aria-label="anchor" href="#arg-num-cores"></a></dt>
<dd><p>Integer. Number of cores to use for parallel processing.</p></dd>


<dt id="arg-baseline">baseline<a class="anchor" aria-label="anchor" href="#arg-baseline"></a></dt>
<dd><p>Integer. Baseline year for tree cover dataset. Can be 2010 (default) or 2000.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list. If coords is specified, only one tile is processed and returns a file path to a single raster.
Otherwise, returns a set of file paths, each representing the tree cover at baseline for the specified year for different tiles.
The rasters are computed taking the tree cover values from the baseline rasters, removing pixels where forest loss was recorded at or before the
provided year. If a tree cover threshold is provided, all tree cover pixels below the threshold are set to NA. Rasters are saved as a GeoTIFF file
saved in the output_folder.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function computes a tree cover forest mask by leveraging a baseline tree cover and forest loss data.
It uses two primary types of input files:</p><ol><li><p>Tree cover data, which serves as the baseline:</p><ul><li><p>For the 2000 baseline, the function uses files from the Hansen dataset for tree cover.</p></li>
<li><p>For the 2010 baseline, the function uses GLAD tree cover files.</p></li>
<li><p>Tree cover values represent the percentage of tree cover (0-100\<!-- %). --></p></li>
</ul></li>
<li><p>Forest loss year data:</p><ul><li><p>The function uses Hansen Global Forest Change lossyear files.</p></li>
<li><p>Values in these files indicate the year of forest loss (1-23, corresponding to years 2001-2023), or 0 if no loss occurred.</p></li>
</ul></li>
</ol><p>The function applies the following steps:</p><ol><li><p>It reads the tree cover and forest loss rasters for the specified year and location.</p></li>
<li><p>If a <code>treecover_threshold</code> is provided, all tree cover pixels with values below the threshold are set to NA.</p></li>
<li><p>It removes pixels where forest loss was recorded at or before the specified year.</p></li>
<li><p>The resulting raster represents a tree cover forest mask for the specified year, with areas of low tree cover or forest loss masked out.</p></li>
<li><p>The function saves the resulting raster as a GeoTIFF file in the <code>output_folder</code>.</p></li>
</ol></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Hansen, M.C., Potapov, P.V., Moore, R., Hancher, M., Turubanova, S.A., Tyukavina, A., Thau, D., Stehman, S.V., Goetz, S.J., Loveland,
T.R., Kommareddy, A., Egorov, A., Chini, L., Justice, C.O., and Townshend, J.R.G., 2013, High-Resolution Global Maps of 21st-Century Forest Cover
Change: Science, v. 342, no. 6160, p. 850-853, at http://www.sciencemag.org/content/342/6160/850.abstract.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Compute all tiles tree cover for 2015 using 2010 baseline</span></span></span>
<span class="r-in"><span><span class="va">treecover_2015</span> <span class="op">&lt;-</span> <span class="fu">compute_treecover</span><span class="op">(</span><span class="fl">2015</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compute 30% thresholded tree cover for the 10N, 20E tile for 2005 using</span></span></span>
<span class="r-in"><span><span class="co"># 2000 tree cover baseline</span></span></span>
<span class="r-in"><span><span class="va">treecover_2020</span> <span class="op">&lt;-</span> <span class="fu">compute_treecover</span><span class="op">(</span><span class="fl">2020</span>,</span></span>
<span class="r-in"><span>                                    treecover_threshold <span class="op">=</span> <span class="fl">30</span>,</span></span>
<span class="r-in"><span>                                    coords <span class="op">=</span> <span class="st">"10N_020E"</span>,</span></span>
<span class="r-in"><span>                                    output_folder <span class="op">=</span> <span class="st">"data/treecover_calc"</span>,</span></span>
<span class="r-in"><span>                                    baseline <span class="op">=</span> <span class="fl">2000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/arnanaraza" class="external-link">Arnan Araza</a>, <a href="https://github.com/aTnT" class="external-link">André Tavares</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

