<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Remove deforested plots by overlaying plots with Global Forest Change data — Deforested • Plot2Map</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Remove deforested plots by overlaying plots with Global Forest Change data — Deforested"><meta name="description" content="This function identifies and removes plots that have been deforested based on
the Global Forest Change (GFC) dataset (Hansen et al., 2013). It processes each plot,
downloads the necessary forest loss tiles, and determines if the plot has been
deforested beyond a set deforestation threshold or if the deforestation occurred before or during the specified map year."><meta property="og:description" content="This function identifies and removes plots that have been deforested based on
the Global Forest Change (GFC) dataset (Hansen et al., 2013). It processes each plot,
downloads the necessary forest loss tiles, and determines if the plot has been
deforested beyond a set deforestation threshold or if the deforestation occurred before or during the specified map year."><meta property="og:image" content="https://atnt.github.io/Plot2Map/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Plot2Map</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/plot-data-preparation.html">Plot data preparation</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Remove deforested plots by overlaying plots with Global Forest Change data</h1>

      <div class="d-none name"><code>Deforested.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function identifies and removes plots that have been deforested based on
the Global Forest Change (GFC) dataset (Hansen et al., 2013). It processes each plot,
downloads the necessary forest loss tiles, and determines if the plot has been
deforested beyond a set deforestation threshold or if the deforestation occurred before or during the specified map year.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">Deforested</span><span class="op">(</span></span>
<span>  <span class="va">plt</span>,</span>
<span>  <span class="va">map_year</span>,</span>
<span>  gfc_folder <span class="op">=</span> <span class="st">"data/GFC"</span>,</span>
<span>  gfc_dataset_year <span class="op">=</span> <span class="st">"latest"</span>,</span>
<span>  defo_threshold <span class="op">=</span> <span class="fl">0.05</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-plt">plt<a class="anchor" aria-label="anchor" href="#arg-plt"></a></dt>
<dd><p>A data frame or sf object containing plot data. For data frame input format, longitude and latitude coordinates should be placed under "POINT_X" and "POINT_Y" columns respectively in WGS 84 CRS.</p></dd>


<dt id="arg-map-year">map_year<a class="anchor" aria-label="anchor" href="#arg-map-year"></a></dt>
<dd><p>Numeric value indicating the threshold year for deforestation. Plots with deforestation started at or before the <code>map_year</code> will be removed from the <code>$non_deforested_plots</code> list element output. Any year in the 2001-2023 range.</p></dd>


<dt id="arg-gfc-folder">gfc_folder<a class="anchor" aria-label="anchor" href="#arg-gfc-folder"></a></dt>
<dd><p>Character string specifying the directory to download GFC data.</p></dd>


<dt id="arg-gfc-dataset-year">gfc_dataset_year<a class="anchor" aria-label="anchor" href="#arg-gfc-dataset-year"></a></dt>
<dd><p>Numeric value describing which version of the Hansen data to use: any year in the 2018-2023 range or "latest" (default).</p></dd>


<dt id="arg-defo-threshold">defo_threshold<a class="anchor" aria-label="anchor" href="#arg-defo-threshold"></a></dt>
<dd><p>Numeric value indicating the deforestation threshold. Plots with a deforestation area proportion larger than the set <code>defo_threshold</code> will be removed from the <code>$non_deforested_plots</code> list element output. Default is 5%.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing two elements:</p>
<dl><dt>non_deforested_plots</dt>
<dd><p>A sf object with non-deforested plots</p></dd>

<dt>all_plots</dt>
<dd><p>The original input sf object with added deforestated proportion (0-1) w.r.t. to plot area and deforestation start year</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>M. C. Hansen et al., High-Resolution Global Maps of 21st-Century Forest Cover Change. Science342,850-853(2013). <a href="https://doi.org/10.1126/science.1244693" class="external-link">DOI:10.1126/science.1244693</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># 4 plots without and 4 plots with deforestation:</span></span></span>
<span class="r-in"><span><span class="va">plots_sample</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">182</span>, <span class="fl">200</span>, <span class="fl">323</span>, <span class="fl">6765</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sampled_plots</span> <span class="op">&lt;-</span> <span class="va">plots</span><span class="op">[</span><span class="va">plots_sample</span>,<span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu">Deforested</span><span class="op">(</span><span class="va">sampled_plots</span>, <span class="fl">2010</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Created directory: data/GFC</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Spherical geometry (s2) switched off</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in st_area.sfc(st_geometry(x), ...):</span> package lwgeom required, please install it first</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/arnanaraza" class="external-link">Arnan Araza</a>, <a href="https://github.com/aTnT" class="external-link">André Tavares</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

